# Tasks: Busy Dad Burpee Timer

## Phase 1: Core Logic & Calculations
- [ ] Task 1.1: Create `calculator.ts` with function `calculateSession(totalReps, setSize, ratio)` returning `timePerRep` and `restPerSet`. [P1]
- [ ] Task 1.2: Implement basic unit tests for calculator to ensure total time always sums to 1200s (+/- rounding). [P1]

## Phase 2: Timer Engine
- [ ] Task 2.1: Build `usePreciseTimer` hook that tracks `elapsedTime`, `currentSet`, `currentRep`, and `phase` (Work vs Rest). [P1]
- [ ] Task 2.2: Implement the "Drift Correction" loop using `Date.now()` to ensure the workout finishes exactly at 20:00. [P2]

## Phase 3: UI Implementation
- [ ] Task 3.1: Create `ConfigurationForm` with sliders/inputs for Reps (50-500), Sets (5-20), Ratio (1-10). [P1]
- [ ] Task 3.2: Build `MetronomeBar` component. Use CSS `height` or `transform: scaleY` driven by the timer progress. [P1]
- [ ] Task 3.3: Implement "Up/Down" logic: Odd reps grow height 0%->100%, Even reps shrink 100%->0%. [P2]
- [ ] Task 3.4: Create `RestScreen` overlay (Green background) with countdown text. [P1]
- [ ] Task 3.5: Add "Flashing" animation to `RestScreen` when `timeLeft < 3s`. [P2]

## Phase 4: Audio & Polish
- [ ] Task 4.1: Integrate sound library and load "Beep", "Chime", and "Countdown" assets. [P2]
- [ ] Task 4.2: Trigger beeps on rep completion state change. [P2]
- [ ] Task 4.3: Add "Wake Lock" feature (using `navigator.wakeLock`) to prevent screen dimming. [P2]
- [ ] Task 4.4: Final Polish: Add 5s pre-workout countdown overlay. [P3]
